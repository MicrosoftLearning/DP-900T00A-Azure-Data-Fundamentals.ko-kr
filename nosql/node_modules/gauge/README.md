---
ms.openlocfilehash: 81fd1455668c9343defe69cbbbff10d48b1f97ef
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 02/05/2022
ms.locfileid: "138052866"
---
<a name="gauge"></a>gauge
=====

거의 상태 비저장 터미널 기반 수평 계기 / 진행률 표시줄입니다.

```javascript
var Gauge = require("gauge")

var gauge = new Gauge()

gauge.show("test", 0.20)

gauge.pulse("this")

gauge.hide()
```

![](gauge-demo.gif)


### <a name="changes-from-1x"></a>1\.x에서 변경

계기 2.x는 호환성이 손상되는 릴리스입니다. 이전에 이 모듈의 사용자인 경우 변경된 내용에 대한 자세한 내용은 [changelog]를 참조하세요.

[changelog]: CHANGELOG.md

### <a name="the-gauge-class"></a>계기 클래스

이는 모듈에 대한 일반적인 인터페이스입니다. 이 인터페이스는 상태 정보를 표시하기 위한 매우 간단한 인터페이스를 제공합니다.

```
var Gauge = require("gauge")

var gauge = new Gauge([stream], [options])
```

* **스트림** – (선택 사항, 기본 STDERR) 진행률 표시줄 업데이트를 작성할 스트림입니다.  계기는 역압을 적용하고 표시되는 경우 대부분의 쓰기를 일시 중지합니다.
* **옵션** – (선택 사항) 옵션 개체입니다.

새 계기를 생성합니다. 계기는 한 줄에 그려지며 **스트림** 이 tty가 아니고 tty가 명시적으로 제공되지 않으면 그려지지 않습니다.

**스트림** 이 터미널이거나 **옵션** 에 **tty** 를 전달하는 경우 터미널 크기 조정을 감지하고 그에 맞게 다시 그립니다.  tty에서 `resize` 이벤트를 관찰하여 이를 수행합니다.  (노드 2.5.0 이전 버전의 버그를 해결하기 위해 tty가 stderr인 경우 stdout에서 버그를 찾습니다.) 더 큰 창 크기로 크기를 조정하면 깨끗하지만 창을 축소하면 항상 약간의 조각이 생깁니다.

**중요:** 이전에 tty가 아닌 스트림을 전달했지만 여전히 출력을 원하는 경우(예: `ansi` 모듈로 래핑된 스트림) 터미널 크기 조정 및 터미널 너비 감지와 같은 작업을 수행하려면 `gauge`가 기본 tty에 액세스해야 하므로 아래 **tty** 옵션을 전달해야 합니다.

**옵션** 개체에는 다음 속성이 있을 수 있으며 모두 선택 사항입니다.

* **updateInterval**: 계기 업데이트를 그려야 하는 빈도(밀리초)입니다.
* **fixedFramerate**: 노드 0.8에서는 기본값이 false이고 나머지는 모두 true입니다.  이것이 true이면 타이머가 `updateInterval`ms마다 한 번씩 트리거되도록 생성되고, false이면 업데이트가 들어오는 즉시 업데이트가 인쇄되지만 `updateInterval`보다 자주 업데이트되는 업데이트는 무시됩니다.  0\.8에서 이 값을 true로 설정하지 않은 이유는 타이머를 `unref`할 수 없어 프로그램이 종료되지 않기 때문입니다. 0.8에서 이 기능을 사용하려면 프로그램이 종료되기 전에 `gauge.disable()`을 호출해야 합니다.
* **themes**: 사용할 테마를 선택할 때 사용할 테마 세트입니다. 기본값은 `gauge/themes`입니다. 자세한 내용은 [테마] 문서를 참조하세요.
* **theme**: 사용할 테마를 선택합니다.
  * 테마 개체. 이 경우 **테마** 가 사용되지 않습니다.
  * 현재 테마 개체에서 조회할 테마의 이름입니다.
  * `hasUnicode`, `hasColor` 또는 `platform` 키가 있는 구성 개체로, 기본 테마를 선택할 때 추측을 재정의하는 데 wlll이 사용됩니다.

  테마를 선택하지 않으면 OS, 색상 지원, 유니코드 지원에서 최상의 추측 조합을 사용하여 기본값을 선택합니다.
* **template**: 계기의 모양을 설명합니다.  기본값은 npm에서 사용하는 것입니다.  자세한 [설명서]는 이 문서의 뒷부분에 있습니다.
* **hideCursor**: 기본값은 true입니다.  true이면 계기가 표시되는 동안 커서가 숨겨집니다.
* **tty**: 궁극적으로 쓰는 tty입니다.  기본값은 **스트림** 과 동일합니다.  터미널의 너비를 감지하고 크기를 조정하는 데 사용됩니다. 사용되는 너비는 `tty.columns - 1`입니다. tty를 사용할 수 없는 경우 `79`의 너비를 가정합니다.
* **enabled**: `tty`가 TTY이면 기본값은 true이고 그렇지 않으면 false입니다.  true이면 계기가 활성화되기 시작합니다.  사용하지 않도록 설정하면 모든 업데이트 명령이 무시되고 `.enable()`을 호출할 때까지 계기가 인쇄되지 않습니다.
* **Plumbing**: 실제로 인쇄용 계기를 생성하는 데 사용할 클래스입니다.  기본값은 `require('gauge/plumbing')`이며 일반적으로 이를 재정의할 필요가 없습니다.
* **cleanupOnExit**: 기본값은 true입니다. 일반적으로 Ctrl-C를 누르거나 예기치 않게 종료되더라도 프로세스가 종료될 때 커서가 다시 켜지고 진행률 표시줄이 지워지도록 종료 처리기를 등록합니다. 이를 사용하지 않도록 설정할 수 있으며 종료 처리기를 등록하지 않습니다.

[has-unicode]: https://www.npmjs.com/package/has-unicode
[테마]: #themes
[설명서]: #templates

#### `gauge.show(section | status, [completed])`

첫 번째 인수는 섹션, 진행에 기여하는 현재 항목의 이름 또는 **섹션**, **하위 섹션** & **완료** 와 같은 키(또는 사용자 지정 템플릿에 형식이 있는 다른 항목)가 있는 개체입니다.  이러한 항목을 업데이트하거나 설정하지 않으려면 `null`을 전달할 수 있으며 무시됩니다.

두 번째 인수는 0에서 1 사이의 값으로 완료된 백분율입니다.
없으면 완료가 업데이트되지 않습니다. 또한 완료는 상태 개체의 일부로 첫 번째 인수로 전달될 수 있습니다. 이 인수와 완료된 인수가 모두 전달되면 완료된 인수가 우선합니다.

#### `gauge.hide([cb])`

터미널에서 계기를 제거합니다.  선택적으로 IO 후 콜백 `cb`가 발생할 수 있습니다(현재는 `setImmediate`가 콜백한 후를 의미함).

한 파일 핸들에서 진행률 표시줄을 일시 중지하고 다른 파일 핸들로 인쇄할 때 이 작업이 중요한 것으로 나타났습니다. 그렇지 않으면 (인쇄가 충분히 큰) 노드가 다른 파일 핸들로 인쇄하는 동안 “진행률 표시줄 종료” 비트를 진행률 표시줄 파일 핸들에 인쇄하게 될 수 있습니다. 이러한 인터리브가 발생하면 일부 터미널에서 손상이 발생할 수 있습니다.

#### `gauge.pulse([subsection])`

* **하위 섹션** – (선택 사항) 이 펄스를 트리거한 특정 항목

계기에서 회전자를 회전하여 출력을 표시합니다.  **하위 섹션** 이 포함된 경우 `gauge.show`에 전달된 성과 결합됩니다.

#### `gauge.disable()`

계기를 숨기고 `show` 또는 `pulse`에 대한 추가 호출을 무시합니다.

#### `gauge.enable()`

계기를 표시하고 `show` 또는 `pulse`가 호출되면 업데이트를 다시 시작합니다.

#### `gauge.isEnabled()`

계기가 사용하도록 설정된 경우 true를 반환합니다.

#### `gauge.setThemeset(themes)`

테마 세트를 변경하여 테마를 선택합니다. 생성자에 사용되는 `themes` 옵션과 동일합니다. 테마는 이 테마 세트에서 다시 선택됩니다.

#### `gauge.setTheme(theme)`

활성 테마를 변경하면 다음 표시 또는 펄스와 함께 표시됩니다. 로컬 환경은 다음과 같은 시스템일 수 있습니다.

* 테마 개체. 이 경우 **테마** 가 사용되지 않습니다.
* 현재 테마 개체에서 조회할 테마의 이름입니다.
* `hasUnicode`, `hasColor` 또는 `platform` 키가 있는 구성 개체로, 기본 테마를 선택할 때 추측을 재정의하는 데 wlll이 사용됩니다.

테마를 선택하지 않으면 OS, 색상 지원, 유니코드 지원에서 최상의 추측 조합을 사용하여 기본값을 선택합니다.

#### `gauge.setTemplate(template)`

활성 템플릿을 변경하면 다음 표시 또는 펄스와 함께 표시됩니다.

### <a name="tracking-completion"></a>추적 완료

완료를 추적하려는 진행 중인 작업이 두 가지 이상인 경우 관련 [are-we-there-yet]이 도움이 될 수 있습니다.  `change` 이벤트를 `show` 메서드에 연결하여 보다 전통적인 진행률 표시줄 인터페이스를 얻을 수 있습니다.

[are-we-there-yet]: https://www.npmjs.com/package/are-we-there-yet

### <a name="themes"></a>테마

```
var themes = require('gauge/themes')

// fetch the default color unicode theme for this platform
var ourTheme = themes({hasUnicode: true, hasColor: true})

// fetch the default non-color unicode theme for osx
var ourTheme = themes({hasUnicode: true, hasColor: false, platform: 'darwin'})

// create a new theme based on the color ascii theme for this platform
// that brackets the progress bar with arrows
var ourTheme = themes.newTheme(theme(hasUnicode: false, hasColor: true}), {
  preProgressbar: '→',
  postProgressbar: '←'
})
```

`gauge/themes`에서 반환된 개체는 `ThemeSet` 클래스의 인스턴스입니다.

```
var ThemeSet = require('gauge/theme-set')
var themes = new ThemeSet()
// or
var themes = require('gauge/themes')
var mythemes = themes.newThemeset() // creates a new themeset based on the default themes
```

#### <a name="themesopts"></a>themes(opts)
#### <a name="themesgetdefaultopts"></a>themes.getDefault(opts)

테마 개체는 플랫폼, 유니코드, 색 지원에 따라 기본 테마를 가져오는 함수입니다.

옵션은 다음 속성을 가진 개체입니다.

* **hasUnicode** - true이면 유니코드 테마를 가져오고 유니코드 테마를 사용할 수 없는 경우 유니코드가 아닌 테마가 사용됩니다.
* **hasColor** - true이면 색 테마를 가져오고 색 테마를 사용할 수 없는 경우 색이 아닌 테마가 사용됩니다.
* **platform**(선택 사항) - 기본값은 `process.platform`입니다.  플랫폼 일치를 사용할 수 없으면 대신 `fallback`이 사용됩니다.

호환되는 테마를 찾을 수 없으면 `EMISSINGTHEME`의 `code`와 함께 오류가 throw됩니다.

#### <a name="themesaddthemethemename-themeobj"></a>themes.addTheme(themeName, themeObj)
#### <a name="themesaddthemethemename-parenttheme-newtheme"></a>themes.addTheme(themeName, [parentTheme], newTheme)

테마 세트에 명명된 테마를 추가합니다.  `themes.newTheme`에서 반환된 테마 개체나 `themes.newTheme`에 전달할 인수를 전달할 수 있습니다.

#### <a name="themesgetthemenames"></a>themes.getThemeNames()

이 테마 세트의 모든 테마 이름 목록을 반환합니다. `themes.getTheme(…)`에 사용하는 데 적합합니다.

#### <a name="themesgetthemename"></a>themes.getTheme(name)

`name`이라는 이 테마 세트에서 테마 개체를 반환합니다.

이 테마 세트에 `name`이 없으면 `EMISSINGTHEME`의 `code`와 함께 오류가 throw됩니다.

#### <a name="themessetdefaultopts-themename"></a>themes.setDefault([opts], themeName)

`opts`는 다음 속성을 가진 개체입니다.

* **platform** - 기본값은 `'fallback'`입니다.  테마가 플랫폼별인 경우 여기에서 `process.platform`의 플랫폼으로 지정합니다(예: `win32`, `darwin` 등).
* **hasUnicode** - 기본값은 `false`입니다. 테마에서 유니코드를 사용하는 경우 이를 true로 설정해야 합니다.
* **hasColor** - 기본값은 `false`입니다.  테마에서 색을 사용하는 경우 이를 true로 설정해야 합니다.

`themeName`은 이 `opts` 세트에 사용할 테마의 이름(`addTheme`에 지정됨)입니다.

#### <a name="themesnewthemeparenttheme-newtheme"></a>themes.newTheme([parentTheme,] newTheme)

`parentTheme`을 기반으로 새 테마 개체를 만듭니다.  `parentTheme`이 제공되지 않으면 작업 표시기(회전자) 및 진행률 표시줄을 렌더링하기 위한 함수를 정의하는 최소 parentTheme이 정의됩니다. (이 대체 부모는 `gauge/base-theme`에 정의되어 있습니다.)

newTheme은 완전 개체여야 합니다. 기본 테마로 정의된 속성에 대해 논의하는 것으로 시작하겠습니다.

* **preProgressbar** - 진행률 표시줄이 표시되는 경우 진행률 표시줄 앞에 표시됩니다.
* **postProgressbar** - 진행률 표시줄이 표시되는 경우 진행률 표시줄 뒤에 표시됩니다.
* **progressBarTheme** - 진행률 표시줄 렌더러에 전달된 하위 테마로, 진행률 표시줄의 해당 섹션에 대해 반복하려는 문자열인 `complete` 및 `remaining` 속성이 있는 개체입니다.
* **activityIndicatorTheme** - 활동 표시기(회전자)에 대한 테마로, 각 문자가 다른 단계인 문자열 또는 문자열 배열일 수 있습니다.
* **preSubsection** - 후자가 인쇄될 때 `section`과 `subsection` 사이의 구분 기호로 표시됩니다.

일반적으로 테마에는 템플릿을 렌더링할 때 유효한 값이 될 수 있는 모든 값이 있을 수 있습니다. 테마의 속성은 해당 이름이 템플릿의 형식과 일치할 때 사용됩니다. 해당 값은 다음과 같습니다.

* **문자열 & 숫자** - 다음과 같이 포함됩니다.
* **함수(값, 테마, 너비)** - 출력에서 원하는 내용을 반환해야 합니다.
  값은 `gauge.show`를 통해 제공되는 값이 있는 개체이고, 테마는 이 항목(아래 참조) 또는 이 테마 개체와 관련된 테마이며, 너비는 결과 너비의 문자 수입니다.  

몇 가지 특수 접두사는 다음과 같습니다.

* **pre** - 속성이 표시되는 경우 속성 앞에 표시됩니다.
* **post** - 속성이 표시되는 경우 속성 뒤에 표시됩니다.

그리고 하나의 특별한 접미사는 다음과 같습니다.

* **Theme** - 해당 값이 함수 형식 항목에 테마로 전달됩니다.

#### <a name="themesaddtoallthemestheme"></a>themes.addToAllThemes(theme)

이는 현재 정의된 모든 테마에 혼합 `theme`됩니다. 또한 이 테마 세트의 기본 부모 테마에 추가되므로 이 테마 세트에 추가되는 향후 테마는 기본적으로 `theme`에서 값을 가져옵니다.

#### <a name="themesnewthemeset"></a>themes.newThemeset()

현재 테마 세트를 새 테마 세트로 복사합니다.  이렇게 하면 한 테마 세트를 다른 테마 세트에서 쉽게 상속할 수 있습니다.

### <a name="templates"></a>템플릿

템플릿은 계산된 후 계기 선으로 바뀌는 개체 및 문자열의 배열입니다.  기본 템플릿은 다음과 같습니다.

```javascript
[
    {type: 'progressbar', length: 20},
    {type: 'activityIndicator', kerning: 1, length: 1},
    {type: 'section', kerning: 1, default: ''},
    {type: 'subsection', kerning: 1, default: ''}
]
```

다양한 템플릿 요소는 **일반 문자열** 일 수 있으며, 이 경우 출력에 축자 또는 다음 속성이 포함된 개체가 포함될 수 있습니다.

* 형식은 다음 중 하나일 수 있으며 `gauge.show`에 전달한 모든 키와 사용자 지정 테마에 있는 모든 키가 될 수 있습니다.
  * `section` – 지금 작업 중인 중요한 작업입니다.
  * `subsection` – 현재 작업 중인 구성 요소입니다.
  * `activityIndicator` – 활성 테마의 `activityIndicatorTheme`을 사용하여 회전자를 표시합니다.
  * `progressbar` – 활성 테마의 `progressbarTheme`을 사용하여 현재 `completed`를 나타내는 진행률 표시줄입니다.
* *kerning* – 이 항목이 표시되는 경우 이 항목과 다른 항목 사이에 있어야 하는 공백 수입니다.
* *maxLength* – 이 요소의 최대 길이입니다. 값이 더 길면 잘립니다.
* *minLength* – 이 요소의 최소 길이입니다. 값이 짧으면 맞춤 값에 따라 패딩됩니다.
* *align* – (기본값: 왼쪽) 가능한 값은 “왼쪽”, “오른쪽”, “가운데”입니다. 워드 프로세서에서 예상한 대로 작동합니다.
* *length* – *minLength* 및 *maxLength* 둘 다에 대해 단일 값을 제공합니다. *length* 와 *minLength 또는 *maxLength* 가 모두 지정되면 후자가 우선합니다.
* *value* – 이 템플릿 항목에 사용할 리터럴 값입니다.
* *default* – 값이 전달되지 않은 경우 이 템플릿 항목에 사용할 기본값입니다.

### <a name="plumbing"></a>연결

이것은 매우 간단하고 아무 것도 가정하지 않으며 계기가 일반 인터페이스를 구현하는 데 사용하는 마법의 내부를 사용하지 않습니다.

```
var Plumbing = require('gauge/plumbing')
var gauge = new Plumbing(theme, template, width)
```

* **theme**: 사용할 테마입니다.
* **template**: 사용할 템플릿입니다.
* **width**: 계기의 너비

#### `gauge.setTheme(theme)`

활성 테마를 변경합니다.

#### `gauge.setTemplate(template)`

활성 템플릿을 변경합니다.

#### `gauge.setWidth(width)`

렌더링할 너비를 변경합니다.

#### `gauge.hide()`

진행률 표시줄을 숨기는 데 필요한 문자열 반환

#### `gauge.hideCursor()`

커서를 숨기는 문자열을 반환합니다.

#### `gauge.showCursor()`

커서를 표시하는 문자열을 반환합니다.

#### `gauge.show(status)`

값에 `status`를 사용하여 테마와 함께 제공된 템플릿을 렌더링하고 계기를 업데이트하기 위해 인쇄에 적합한 문자열을 반환합니다.
