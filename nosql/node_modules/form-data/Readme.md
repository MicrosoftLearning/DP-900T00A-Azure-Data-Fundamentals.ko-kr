---
ms.openlocfilehash: 7a40bb5c1f9bdc59490cf2a2dbf591d14b488b41
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 02/05/2022
ms.locfileid: "138052322"
---
# <a name="form-data-npm-modulehttpswwwnpmjscompackageform-data-join-the-chat-at-httpsgitterimform-dataform-datahttpsgitterimform-dataform-data"></a>Form-Data [![NPM 모듈](https://img.shields.io/npm/v/form-data.svg)](https://www.npmjs.com/package/form-data) [![ https://gitter.im/form-data/form-data](http://form-data.github.io/images/gitterbadge.svg)](https://gitter.im/form-data/form-data)에서 채팅에 참여

읽을 수 있는 ```"multipart/form-data"``` 스트림을 만드는 라이브러리입니다. 양식 및 파일 업로드를 다른 웹 애플리케이션에 제출하는 데 사용할 수 있습니다.

이 라이브러리의 API는 [XMLHttpRequest-2 FormData 인터페이스][xhr2-fd]에서 영감을 받았습니다.

[xhr2-fd]: http://dev.w3.org/2006/webapi/XMLHttpRequest-2/Overview.html#the-formdata-interface

[![Linux 빌드](https://img.shields.io/travis/form-data/form-data/v3.0.1.svg?label=linux:6.x-12.x)](https://travis-ci.org/form-data/form-data)
[![MacOS 빌드](https://img.shields.io/travis/form-data/form-data/v3.0.1.svg?label=macos:6.x-12.x)](https://travis-ci.org/form-data/form-data)
[![Windows 빌드](https://img.shields.io/travis/form-data/form-data/v3.0.1.svg?label=windows:6.x-12.x)](https://travis-ci.org/form-data/form-data)

[![적용 상태](https://img.shields.io/coveralls/form-data/form-data/v3.0.1.svg?label=code+coverage)](https://coveralls.io/github/form-data/form-data?branch=master)
[![종속성 상태](https://img.shields.io/david/form-data/form-data.svg)](https://david-dm.org/form-data/form-data)

## <a name="install"></a>설치

```
npm install --save form-data
```

## <a name="usage"></a>사용량

이 예제에서는 문자열, 버퍼, 파일 스트림을 포함하는 3개의 필드가 있는 양식을 생성합니다.

``` javascript
var FormData = require('form-data');
var fs = require('fs');

var form = new FormData();
form.append('my_field', 'my value');
form.append('my_buffer', new Buffer(10));
form.append('my_file', fs.createReadStream('/foo/bar.jpg'));
```

또한 http-response 스트림을 사용할 수 있습니다.

``` javascript
var FormData = require('form-data');
var http = require('http');

var form = new FormData();

http.request('http://nodejs.org/images/logo.png', function(response) {
  form.append('my_field', 'my value');
  form.append('my_buffer', new Buffer(10));
  form.append('my_logo', response);
});
```

또는 @mikeal의 [요청](https://github.com/request/request) 스트림:

``` javascript
var FormData = require('form-data');
var request = require('request');

var form = new FormData();

form.append('my_field', 'my value');
form.append('my_buffer', new Buffer(10));
form.append('my_logo', request('http://nodejs.org/images/logo.png'));
```

웹 애플리케이션에 이 양식을 제출하려면 다음 ```submit(url, [callback])``` 메서드를 호출합니다.

``` javascript
form.submit('http://example.org/', function(err, res) {
  // res – response object (http.IncomingMessage)  //
  res.resume();
});

```

고급 요청 조작의 경우 ```submit()``` 메서드는 ```http.ClientRequest``` 개체를 반환하거나 대체 제출 방법 중 하나를 선택할 수 있습니다.

### <a name="custom-options"></a>사용자 지정 옵션

`maxDataSize`와 같은 사용자 지정 옵션을 제공할 수 있습니다.

``` javascript
var FormData = require('form-data');

var form = new FormData({ maxDataSize: 20971520 });
form.append('my_field', 'my value');
form.append('my_buffer', /* something big */);
```

사용 가능한 옵션 목록은 [combined-stream](https://github.com/felixge/node-combined-stream/blob/master/lib/combined_stream.js#L7-L15)에서 찾을 수 있습니다.

### <a name="alternative-submission-methods"></a>대체 제출 방법

노드의 http 클라이언트 인터페이스를 사용할 수 있습니다.

``` javascript
var http = require('http');

var request = http.request({
  method: 'post',
  host: 'example.org',
  path: '/upload',
  headers: form.getHeaders()
});

form.pipe(request);

request.on('response', function(res) {
  console.log(res.statusCode);
});
```

또는 `'Content-Length'` 헤더를 설정하려는 경우 다음을 수행합니다.

``` javascript
form.submit('example.org/upload', function(err, res) {
  console.log(res.statusCode);
});
```

사용자 지정 헤더 및 미리 알려진 길이를 파트에서 사용하려면 다음을 수행합니다.

``` javascript
var CRLF = '\r\n';
var form = new FormData();

var options = {
  header: CRLF + '--' + form.getBoundary() + CRLF + 'X-Custom-Header: 123' + CRLF + CRLF,
  knownLength: 1
};

form.append('my_buffer', buffer, options);

form.submit('http://example.com/', function(err, res) {
  if (err) throw err;
  console.log('Done');
});
```

Form-Data는 일반적인 유형의 스트림(```fs.readStream```, ```http.response```, ```mikeal's request```)에서 필요한 모든 정보를 인식하고 가져올 수 있습니다. 다른 유형의 스트림의 경우 “파일” 관련 정보를 수동으로 제공해야 합니다.

``` javascript
someModule.stream(function(err, stdout, stderr) {
  if (err) throw err;

  var form = new FormData();

  form.append('file', stdout, {
    filename: 'unicycle.jpg', // ... or:
    filepath: 'photos/toys/unicycle.jpg',
    contentType: 'image/jpeg',
    knownLength: 19806
  });

  form.submit('http://example.com/', function(err, res) {
    if (err) throw err;
    console.log('Done');
  });
});
```

`filepath` 속성은 `filename`을 재정의하고 상대 경로를 포함할 수 있습니다. 일반적으로 [디렉터리에서 여러 파일](https://wicg.github.io/entries-api/#dom-htmlinputelement-webkitdirectory)을 업로드할 때 사용됩니다.

쿼리 문자열을 사용하여 URL에 대한 POST 요청 또는 HTTP 인증 자격 증명을 전달하는 것과 같은 에지 사례의 경우 개체를 첫 번째 매개 변수로 `form.submit()`에 전달할 수 있습니다.

``` javascript
form.submit({
  host: 'example.com',
  path: '/probably.php?extra=params',
  auth: 'username:password'
}, function(err, res) {
  console.log(res.statusCode);
});
```

POST 요청을 사용하여 사용자 지정 HTTP 헤더도 보내야 하는 경우 `form.submit()`의 첫 번째 매개 변수에서 `headers` 키를 사용할 수 있습니다.

``` javascript
form.submit({
  host: 'example.com',
  path: '/surelynot.php',
  headers: {'x-test-header': 'test-header-value'}
}, function(err, res) {
  console.log(res.statusCode);
});
```

### <a name="methods"></a>메서드

- [_Void_ 추가( **문자열** _필드_, **혼합** _값_ [, **혼합** _옵션_] )](https://github.com/form-data/form-data#void-append-string-field-mixed-value--mixed-options-).
- [헤더 getHeaders( [**헤더** _userHeaders_] )](https://github.com/form-data/form-data#array-getheaders-array-userheaders-)
- [스트링 getBoundary()](https://github.com/form-data/form-data#string-getboundary)
- [_Void_ setBoundary()](https://github.com/form-data/form-data#void-setboundary)
- [버퍼 getBuffer()](https://github.com/form-data/form-data#buffer-getbuffer)
- [정수 getLengthSync()](https://github.com/form-data/form-data#integer-getlengthsync)
- [정수 getLength( **함수** 콜백 )](https://github.com/form-data/form-data#integer-getlength-function-callback-) 
- [부울 hasKnownLength()](https://github.com/form-data/form-data#boolean-hasknownlength)
- [요청 제출( 매개 변수, **함수** 콜백 )](https://github.com/form-data/form-data#request-submit-params-function-callback-)  
- [문자열 toString()](https://github.com/form-data/form-data#string-tostring)

#### <a name="_void_-append-string-_field_-mixed-_value_--mixed-_options_-"></a>_Void_ 추가( **문자열** 필드, **혼합** 값 [, **혼합** 옵션] )  
양식에 데이터를 추가합니다. 모든 형식(문자열, 정수, 부울, 버퍼 등)에 대해 제출할 수 있습니다. 그러나 배열은 지원되지 않으며 사용자가 문자열로 전환해야 합니다.
```javascript
var form = new FormData();
form.append( 'my_string', 'my value' );
form.append( 'my_integer', 1 );
form.append( 'my_boolean', true );
form.append( 'my_buffer', new Buffer(10) );
form.append( 'my_array_as_json', JSON.stringify( ['bird','cute'] ) )
```

옵션 또는 개체에 대한 문자열을 제공할 수 있습니다.
```javascript
// Set filename by providing a string for options
form.append( 'my_file', fs.createReadStream('/foo/bar.jpg'), 'bar.jpg' );

// provide an object.
form.append( 'my_file', fs.createReadStream('/foo/bar.jpg'), {filename: 'bar.jpg', contentType: 'image/jpeg', knownLength: 19806} );
```

#### <a name="_headers_-getheaders-headers-_userheaders_-"></a>헤더 getHeaders( [**헤더** _userHeaders_] )
이 메서드는 제공된 `userHeaders` 배열에 올바른 `content-type` 헤더를 추가합니다.  

#### <a name="_string_-getboundary"></a>스트링 getBoundary()
formData의 경계를 반환합니다. 기본적으로 경계는 26개의 `-` 다음에 24개의 숫자로 구성됩니다. 예를 들면 다음과 같습니다.
```javascript
--------------------------515890814546601021194782
```

#### <a name="_void_-setboundarystring-_boundary_"></a>_Void_ setBoundary(문자열 _경계_)
위에서 설명한 기본 동작을 재정의하여 경계 문자열을 설정합니다.

_참고: 경계는 고유해야 하며 데이터에 표시되지 않을 수 있습니다._

#### <a name="_buffer_-getbuffer"></a>버퍼 getBuffer()
전체 formdata 요청 패키지를 버퍼로 반환합니다. Axios와 같이 이 버퍼를 삽입하여 다중 파트 데이터를 보낼 수 있습니다.
```javascript
var form = new FormData();
form.append( 'my_buffer', Buffer.from([0x4a,0x42,0x20,0x52,0x6f,0x63,0x6b,0x73]) );
form.append( 'my_file', fs.readFileSync('/foo/bar.jpg') );

axios.post( 'https://example.com/path/to/api',
            form.getBuffer(),
            form.getHeaders()
          )
```
**참고:** 출력은 버퍼 형식이므로 버퍼에서 허용하는 형식(문자열, 버퍼, ArrayBuffer, 배열 또는 배열과 유사한 개체)만 추가할 수 있습니다. 예를 들어 ReadStream은 오류가 발생합니다.

#### <a name="_integer_-getlengthsync"></a>정수 getLengthSync()
`getLength`와 동일하지만 동기입니다.

참고: getLengthSync는 스트림 길이를 계산하지 __않습니다__.

#### <a name="_integer_-getlength-function-_callback_-"></a>정수 getLength( **함수** 콜백 ) 
`Content-Length` 비동기를 반환합니다. 콜백은 오류를 처리하고 길이가 계산되면 계속하는 데 사용됩니다.
```javascript
this.getLength(function(err, length) {
  if (err) {
    this._error(err);
    return;
  }

  // add content length
  request.setHeader('Content-Length', length);

  ...
}.bind(this));
```

#### <a name="_boolean_-hasknownlength"></a>부울 hasKnownLength()
추가된 값의 길이를 알고 있는지 확인합니다.

#### <a name="_request_-submit-_params_-function-_callback_-"></a>요청 제출( 매개 변수, **함수** 콜백 )  
웹 애플리케이션에 양식을 제출합니다.
```javascript
var form = new FormData();
form.append( 'my_string', 'Hello World' );

form.submit( 'http://example.com/', function(err, res) {
  // res – response object (http.IncomingMessage)  //
  res.resume();
} );
```

#### <a name="_string_-tostring"></a>문자열 toString()
양식 데이터를 문자열로 반환합니다. 파일 또는 버퍼를 보내는 경우에는 사용하지 말고 대신 `getBuffer()`를 사용합니다.

### <a name="integration-with-other-libraries"></a>다른 라이브러리와 통합

#### <a name="request"></a>요청

[요청](https://github.com/request/request)을 사용하여 양식 제출:

```javascript
var formData = {
  my_field: 'my_value',
  my_file: fs.createReadStream(__dirname + '/unicycle.jpg'),
};

request.post({url:'http://service.com/upload', formData: formData}, function(err, httpResponse, body) {
  if (err) {
    return console.error('upload failed:', err);
  }
  console.log('Upload successful!  Server responded with:', body);
});
```

자세한 내용은 [요청 추가 정보](https://github.com/request/request#multipartform-data-multipart-form-uploads)를 참조하세요.

#### <a name="node-fetch"></a>node-fetch

[node-fetch](https://github.com/bitinn/node-fetch)를 사용하여 양식을 제출할 수도 있습니다.

```javascript
var form = new FormData();

form.append('a', 1);

fetch('http://example.com', { method: 'POST', body: form })
    .then(function(res) {
        return res.json();
    }).then(function(json) {
        console.log(json);
    });
```

#### <a name="axios"></a>axios

Node.js에서 [axios](https://github.com/axios/axios)를 사용하여 파일을 게시할 수 있습니다.
```javascript
const form = new FormData();
const stream = fs.createReadStream(PATH_TO_FILE);

form.append('image', stream);

// In Node.js environment you need to set boundary in the header field 'Content-Type' by calling method `getHeaders`
const formHeaders = form.getHeaders();

axios.post('http://example.com', form, {
  headers: {
    ...formHeaders,
  },
})
.then(response => response)
.catch(error => error)
```

## <a name="notes"></a>참고

- ```getLengthSync()``` 메서드는 스트림의 길이를 계산하지 않고 ```knownLength``` 옵션을 해결 방법으로 사용합니다.
- 시작 버전 `2.x` FormData는 `node@0.10.x`에 대한 지원을 중단했습니다.
- 시작 버전 `3.x` FormData는 `node@4.x`에 대한 지원을 중단했습니다.

## <a name="license"></a>License

Form-Data는 [MIT](License) 라이선스로 릴리스됩니다.
