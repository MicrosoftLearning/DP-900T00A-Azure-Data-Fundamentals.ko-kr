---
ms.openlocfilehash: bd96d4c9278b37a2a3626abd3bd91dd20a15e2e1
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 02/05/2022
ms.locfileid: "138052858"
---
<a name="https-proxy-agent"></a>https-proxy-agent
================
### <a name="an-https-proxy-httpagent-implementation-for-https"></a>HTTPS용 HTTP 프록시 `http.Agent` 구현
[![빌드 상태](https://github.com/TooTallNate/node-https-proxy-agent/workflows/Node%20CI/badge.svg)](https://github.com/TooTallNate/node-https-proxy-agent/actions?workflow=Node+CI)

이 모듈은 지정된 HTTP 또는 HTTPS 프록시 서버에 연결하고 기본 제공 `https` 모듈과 함께 사용할 수 있는 `http.Agent` 구현을 제공합니다.

특히 이 `Agent` 구현은 중간 “프록시” 서버에 연결하고 [CONNECT HTTP 메서드][CONNECT]를 실행하여 프록시에 대상 서버에 대한 직접 TCP 연결을 열도록 지시합니다.

이 에이전트는 CONNECT HTTP 메서드를 구현하므로 프록시(예: WebSockets)를 통해 연결할 때 이 메서드를 사용하는 다른 프로토콜에서도 작동합니다.
자세한 내용은 아래의 “예제” 섹션을 참조하세요.


<a name="installation"></a>설치
------------

`npm`을 사용하여 다음을 설치합니다.

``` bash
$ npm install https-proxy-agent
```


<a name="examples"></a>예제
--------

#### <a name="https-module-example"></a>`https` 모듈 예제

``` js
var url = require('url');
var https = require('https');
var HttpsProxyAgent = require('https-proxy-agent');

// HTTP/HTTPS proxy to connect to
var proxy = process.env.http_proxy || 'http://168.63.76.32:3128';
console.log('using proxy server %j', proxy);

// HTTPS endpoint for the proxy to connect to
var endpoint = process.argv[2] || 'https://graph.facebook.com/tootallnate';
console.log('attempting to GET %j', endpoint);
var options = url.parse(endpoint);

// create an instance of the `HttpsProxyAgent` class with the proxy server information
var agent = new HttpsProxyAgent(proxy);
options.agent = agent;

https.get(options, function (res) {
  console.log('"response" event!', res.headers);
  res.pipe(process.stdout);
});
```

#### <a name="ws-websocket-connection-example"></a>`ws` WebSocket 연결 예제

``` js
var url = require('url');
var WebSocket = require('ws');
var HttpsProxyAgent = require('https-proxy-agent');

// HTTP/HTTPS proxy to connect to
var proxy = process.env.http_proxy || 'http://168.63.76.32:3128';
console.log('using proxy server %j', proxy);

// WebSocket endpoint for the proxy to connect to
var endpoint = process.argv[2] || 'ws://echo.websocket.org';
var parsed = url.parse(endpoint);
console.log('attempting to connect to WebSocket %j', endpoint);

// create an instance of the `HttpsProxyAgent` class with the proxy server information
var options = url.parse(proxy);

var agent = new HttpsProxyAgent(options);

// finally, initiate the WebSocket connection
var socket = new WebSocket(endpoint, { agent: agent });

socket.on('open', function () {
  console.log('"open" event!');
  socket.send('hello world');
});

socket.on('message', function (data, flags) {
  console.log('"message" event! %j %j', data, flags);
  socket.close();
});
```

<a name="api"></a>API
---

### <a name="new-httpsproxyagentobject-options"></a>새 HttpsProxyAgent(개체 옵션)

`HttpsProxyAgent` 클래스는 HTTPS 및/또는 WebSocket 요청을 프록시하기 위해 지정된 “HTTP 프록시 서버”에 연결하는 `http.Agent` 하위 클래스를 구현합니다. 이 작업은 [HTTP `CONNECT` 메서드][CONNECT]를 사용하여 수행됩니다.

`options` 인수는 사용할 프록시 서버의 문자열 URI이거나 보다 구체적인 속성을 가진 “options” 개체일 수 있습니다.

  * `host` - 문자열 - 연결할 프록시 호스트입니다(`hostname`을 사용할 수도 있음). 필수 요소.
  * `port` - 숫자 - 연결할 프록시 포트입니다. 필수 요소.
  * `protocol` - 문자열 - `https:`인 경우 TLS를 사용하여 프록시에 연결합니다.
  * `headers` - 개체 - HTTP CONNECT 메서드에서 보낼 추가 HTTP 헤더입니다.
  * 지정된 다른 모든 옵션이 `net.connect()`/`tls.connect()` 함수에 전달됩니다.


<a name="license"></a>License
-------

(MIT 라이선스)

Copyright (c) 2013 Nathan Rajlich &lt;nathan@tootallnate.net&gt;

이에 본 소프트웨어 및 관련 문서 파일(이하 ‘소프트웨어’)의 사본을 획득한 모든 사람에게 무료로 소프트웨어의 사용, 복사, 수정, 병합, 게시, 배포, 라이선스 양도 및/또는 소프트웨어 복사본 판매 권한을 포함하여 제한 없이 소프트웨어를 취급할 수 있는 권한을 부여하고, 다음과 같은 조건에 따라 소프트웨어를 제공받는 사람에게 이를 허용합니다.

위의 저작권 알림 및 이 권한은 소프트웨어의 모든 사본 또는 중요한 부분에 포함되어야 합니다.

이 소프트웨어는 상품성, 특정한 목적을 위한 적합성, 비침해에 관한 보증을 포함하되 이에 제한하지 않고 명시적 또는 묵시적인 어떠한 보증도 없이 ‘그대로’ 제공됩니다.
어떤 경우에도 작성자 또는 저작권 소유자는 계약상 행위, 불법 또는 그 밖의 문제로 인한 것인지와 관계없이, 본 소프트웨어나 소프트웨어의 사용 또는 기타 거래로 인해 발생하는 손해 배상, 손해 또는 기타 문제에 대한 책임을 지지 않습니다.

[CONNECT]: http://en.wikipedia.org/wiki/HTTP_tunnel#HTTP_CONNECT_Tunneling
