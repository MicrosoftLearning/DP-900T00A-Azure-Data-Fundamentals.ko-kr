---
ms.openlocfilehash: 05bea0332c8376e66d4aed62eab42a50c744536d
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 02/05/2022
ms.locfileid: "138052626"
---
# <a name="microsoft-authentication-library-for-node-msal-node"></a>Node용 Microsoft 인증 라이브러리(msal-node)

[![npm 버전](https://img.shields.io/npm/v/@azure/msal-node.svg?style=flat)](https://www.npmjs.com/package/@azure/msal-node/)[![npm 버전](https://img.shields.io/npm/dm/@azure/msal-node.svg)](https://nodei.co/npm/@azure/msal-node/)[![적용 상태](https://coveralls.io/repos/github/AzureAD/microsoft-authentication-library-for-js/badge.svg?branch=dev)](https://coveralls.io/github/AzureAD/microsoft-authentication-library-for-js?branch=dev)

| <a href="https://docs.microsoft.com/azure/active-directory/develop/guidedsetups/active-directory-javascriptspa" target="_blank">시작</a> | <a href="https://aka.ms/aaddevv2" target="_blank">AAD 문서</a> | <a href="https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_node.html" target="_blank">라이브러리 참조</a> |
| --- | --- | --- |

현재 `msal-node`를 개발 중입니다. [여기](https://github.com/AzureAD/microsoft-authentication-library-for-js/projects/4)에서 프로젝트 진행 상황을 확인하세요. 이 설명서도 진행 중이며 `alpha` 패치를 릴리스할 때 변경될 예정입니다. **아직 프로덕션 환경에서는 이것을 사용하지 않는 것이 좋습니다**.

1. [정보](#about)
2. [FAQ](#faq)
3. [릴리스](#releases)
4. [필수 구성 요소](#prerequisites)
5. [설치](#installation)
6. [사용 현황](#usage)
7. [샘플](#samples)
8. [라이브러리 빌드](#build-and-test)
9. [보안 보고](#security-reporting)
10. [라이선스](#license)
11. [준수 사항](#we-value-and-adhere-to-the-microsoft-open-source-code-of-conduct)

## <a name="about"></a>정보

MSAL Node를 사용하면 [Azure AD B2C](https://docs.microsoft.com/en-us/azure/active-directory-b2c/active-directory-b2c-overview#identity-providers) 서비스를 통해 애플리케이션이 [Azure AD](https://docs.microsoft.com/en-us/azure/active-directory/develop/v2-overview) 회사 및 학교 계정(AAD), Microsoft 개인 계정(MSA), Facebook, Google, LinkedIn, Microsoft 계정 등과 같은 소셜 ID 제공자를 사용하여 사용자를 인증할 수 있습니다. 또한 앱이 [Microsoft Graph](https://graph.microsoft.io)와 같은 [Microsoft Cloud](https://www.microsoft.com/enterprise) 서비스에 액세스할 수 있는 토큰을 얻을 수 있습니다.


### <a name="oauth20-grant-types-supported"></a>OAuth2.0 권한 부여 유형 지원:

현재 알파 버전은 다음과 같은 토큰 획득 방법을 지원합니다.

#### <a name="public-client"></a>퍼블릭 클라이언트:
- [PKCE](https://oauth.net/2/pkce/)를 통한 [권한 부여 코드 부여](https://oauth.net/2/grant-types/authorization-code/)
- [디바이스 코드 부여](https://oauth.net/2/grant-types/device-code/)
- [토큰 부여 새로 고침](https://oauth.net/2/grant-types/refresh-token/)
- [자동 흐름](https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-acquire-cache-tokens#acquiring-tokens-silently-from-the-cache)

#### <a name="confidential-client"></a>기밀 클라이언트:
- 클라이언트 자격 증명을 사용하여 [권한 부여 코드 부여](https://oauth.net/2/grant-types/authorization-code/)
- [토큰 부여 새로 고침](https://oauth.net/2/grant-types/refresh-token/)
- [자동 흐름](https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-acquire-cache-tokens#acquiring-tokens-silently-from-the-cache)
- [클라이언트 자격 증명 부여](https://oauth.net/2/grant-types/client-credentials/)
- [On-Behalf-Of 흐름](https://docs.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-on-behalf-of-flow)

**[출시 예정]** 앞으로 다음에 대한 지원을 추가할 계획입니다.
- [통합 Windows 인증 흐름](https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-authentication-flows#integrated-windows-authentication)
- [사용자 이름 및 암호 흐름](https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-authentication-flows#usernamepassword)

일반적으로 Microsoft 인증 라이브러리에서 지원하는 다양한 권한 부여 유형에 대한 자세한 내용은 [여기](https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-authentication-flows)에서 확인할 수 있습니다.

### <a name="scenarios-supported"></a>지원되는 시나리오:

이 라이브러리에서 지원되는 시나리오는 다음과 같습니다.
- Web API를 호출하는 데스크톱 앱
- 웹 API를 호출하는 웹앱
- 웹 API를 호출하는 웹 API
- 디먼 앱

시나리오 및 각 시나리오에 매핑되는 인증 흐름에 대한 자세한 내용은 [여기](https://docs.microsoft.com/en-us/azure/active-directory/develop/authentication-flows-app-scenarios)에서 확인할 수 있습니다.

## <a name="faq"></a>FAQ

[여기](https://github.com/AzureAD/microsoft-authentication-library-for-js/blob/dev/lib/msal-node/docs/faq.md)를 참조하세요.

## <a name="prerequisites"></a>사전 요구 사항

`@azure/msal-node`를 사용하기 전에 Azure Portal에서 앱을 등록해야 합니다.

- [앱 등록](https://docs.microsoft.com/en-us/graph/auth-register-app-v2)

## <a name="installation"></a>설치

### <a name="via-npm"></a>NPM 사용:
```javascript
npm install @azure/msal-node
```
##  <a name="usage"></a>사용량

### <a name="msal-basics"></a>MSAL 기본 사항
- [퍼블릭 클라이언트와 기밀 클라이언트 간의 차이점 이해](https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-client-applications)
- [퍼블릭 클라이언트 애플리케이션 초기화](https://github.com/AzureAD/microsoft-authentication-library-for-js/blob/dev/lib/msal-node/docs/initialize-public-client-application.md)
- [기밀 클라이언트 애플리케이션 초기화](https://github.com/AzureAD/microsoft-authentication-library-for-js/blob/dev/lib/msal-node/docs/initialize-confidential-client-application.md)
- [Configuration](https://github.com/AzureAD/microsoft-authentication-library-for-js/blob/dev/lib/msal-node/docs/configuration.md)
- [요청](https://github.com/AzureAD/microsoft-authentication-library-for-js/blob/dev/lib/msal-common/docs/request.md)
- [응답](https://github.com/AzureAD/microsoft-authentication-library-for-js/blob/dev/lib/msal-common/docs/response.md)

## <a name="samples"></a>샘플
MSAL Node를 사용하여 토큰을 획득하는 여러 [샘플](https://github.com/AzureAD/microsoft-authentication-library-for-js/tree/dev/samples/msal-node-samples)이 리포지토리에 포함되어 있습니다. 이러한 샘플은 현재 수동 테스트에 사용되며 모범 사례에 대한 참조가 아니므로 판단을 사용하고 이 코드를 프로덕션 애플리케이션에 맹목적으로 복사하지 않습니다.

- [auth-code](https://github.com/AzureAD/microsoft-authentication-library-for-js/tree/dev/samples/msal-node-samples/standalone-samples/auth-code): OAuth2.0 인증 코드 흐름을 사용하는 기본 앱.
- [device-code](https://github.com/AzureAD/microsoft-authentication-library-for-js/tree/dev/samples/msal-node-samples/standalone-samples/device-code): OAuth 2.0 디바이스 코드 흐름을 사용하는 명령줄 앱.
- [refresh-token](https://github.com/AzureAD/microsoft-authentication-library-for-js/tree/dev/samples/msal-node-samples/standalone-samples/refresh-token): OAuth 2.0 새로 고침 흐름을 사용하는 명령줄 앱.
- [silent-flow](https://github.com/AzureAD/microsoft-authentication-library-for-js/tree/dev/samples/msal-node-samples/standalone-samples/silent-flow): OAuth2.0 권한 부여 코드 흐름을 사용하여 토큰을 획득하고, 토큰 캐시에 저장하고, 토큰 캐시에서 토큰을 사용하는 자동 흐름을 사용하는 기본 앱.
- [client-credentials](https://github.com/AzureAD/microsoft-authentication-library-for-js/tree/dev/samples/msal-node-samples/standalone-samples/client-credentials): Oauth 2.0 클라이언트 자격 증명 부여를 사용하여 토큰을 획득하는 디먼 앱.
- [on-behalf-of](https://github.com/AzureAD/microsoft-authentication-library-for-js/tree/dev/samples/msal-node-samples/standalone-samples/on-behalf-of): 웹 애플리케이션은 Oauth 2.0 인증 코드 흐름을 사용하여 웹 API용 토큰을 획득합니다. 웹 API는 토큰의 유효성을 검사하고 웹 애플리케이션에서 인증한 사용자를 대신하여 Microsoft Graph를 호출합니다.
- [msal-node-extensions](https://github.com/AzureAD/microsoft-authentication-library-for-js/tree/dev/extensions/samples/msal-node-extensions): 인증 코드 흐름을 사용하여 토큰을 획득하고 [msal-extensions](https://github.com/AzureAD/microsoft-authentication-library-for-js/tree/dev/extensions/) 라이브러리를 사용하여 MSAL 메모리 내 토큰 캐시를 디스크에 씁니다.

## <a name="build-and-test"></a>빌드 및 테스트

- [lerna](https://github.com/lerna/lerna)가 설치되어 있지 않으면 `npm install -g lerna`를 실행합니다.
- `microsoft-authentication-library-for-js.git` 내의 아무 곳에서나 `lerna bootstrap`을 실행합니다.
- `microsoft-authentication-library-for-js/lib/msal-common`로 이동 및 `npm run build` 실행
- `microsoft-authentication-library-for-js/lib/msal-node`로 이동 및 `npm run build` 실행

```javascript
// to link msal-node and msal-common packages
lerna bootstrap

// Change to the msal-node package directory
cd lib/msal-common/

// To run build only for node package
npm run build

// Change to the msal-node package directory
cd lib/msal-node/

// To run build only for node package
npm run build
```

### <a name="local-development"></a>로컬 개발
다음은 유용한 명령 목록입니다.

#### `npm run build:modules:watch`
개발/조사식 모드에서 프로젝트를 실행합니다. 변경 내용에 따라 프로젝트가 다시 빌드됩니다. TSDX에는 편의를 위한 특별한 로거가 있습니다. 오류 메시지는 호환성 VS Code의 문제 탭에 맞게 인쇄되고 형식이 지정됩니다. 편집하면 라이브러리가 다시 빌드됩니다.

#### `npm run build`
패키지를 `dist` 폴더에 번들로 묶습니다.
패키지는 최적화되고 롤업과 함께 여러 형식(CommonJS, UMD, ES 모듈)으로 번들로 묶입니다.

#### `lerna bootstrap`
개발/조사식 모드에서 프로젝트를 실행 중이거나 `msal-common`에서 변경했으며 프로젝트 전체에 반영해야 하는 경우 `lerna bootstrap`을 실행하여 모든 기호를 연결하세요. `npm install`은 모든 코드의 연결을 해제하므로 설치 후 `lerna bootstrap`을 실행하는 것이 좋습니다.

#### `npm run lint`
Prettier를 사용하여 eslint 실행

#### <a name="npm-test-npm-run-testcoverage-npm-run-testwatch"></a>`npm test`, `npm run test:coverage`, `npm run test:watch`
대화형 모드에서 테스트 조사식(Jest)을 실행합니다.
기본적으로 마지막 커밋 이후 변경된 파일과 관련된 테스트를 실행합니다.
플래그 --검사를 추가하여 코드 검사를 생성합니다. 추가 설정이 필요하지 않습니다. Jest는 테스트되지 않은 파일을 포함하여 전체 프로젝트에서 코드 검사 정보를 수집할 수 있습니다.

## <a name="security-reporting"></a>보안 보고

라이브러리 또는 서비스에 대한 보안 문제가 발견되면 가능한 한 자세하게 [secure@microsoft.com](mailto:secure@microsoft.com)에 신고해 주세요. 제출하면 [Microsoft 장려금](http://aka.ms/bugbounty) 프로그램을 통해 장려금을 받을 수 있습니다. GitHub Issues 또는 기타 퍼블릭 사이트에 보안 문제를 게시하지 마세요. 정보를 받는 즉시 연락드리겠습니다. [이 페이지](https://technet.microsoft.com/security/dd252948) 를 방문해서 보안 공지 경고를 구독하여 보안 사건이 발생할 때 알림을 받는 것이 좋습니다.

## <a name="license"></a>License

Copyright (c) Microsoft Corporation.  All rights reserved. MIT License에 따라 라이선스가 부여됩니다.

## <a name="we-value-and-adhere-to-the-microsoft-open-source-code-of-conduct"></a>Microsoft 오픈 소스 사용 규정을 소중히 여기고 준수합니다.

이 프로젝트는 [Microsoft 오픈 소스 준수 사항](https://opensource.microsoft.com/codeofconduct/)을 채택했습니다. 자세한 내용은 [Code of Conduct FAQ](https://opensource.microsoft.com/codeofconduct/faq/)(준수 사항 FAQ)를 참조하거나 [opencode@microsoft.com](mailto:opencode@microsoft.com)에 추가 질문 또는 의견을 알려주세요.

