---
ms.openlocfilehash: 496981207a34eb019688e8f2583ccc1abcbb5bce
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 02/05/2022
ms.locfileid: "138051974"
---
<a name="semver1----the-semantic-versioner-for-npm"></a>semver(1) -- npm의 의미 체계 버전 관리자
===========================================

## <a name="install"></a>설치

```bash
npm install --save semver
````

## <a name="usage"></a>사용량

노드 모듈:

```js
const semver = require('semver')

semver.valid('1.2.3') // '1.2.3'
semver.valid('a.b.c') // null
semver.clean('  =v1.2.3   ') // '1.2.3'
semver.satisfies('1.2.3', '1.x || >=2.5.0 || 5.0.0 - 7.2.3') // true
semver.gt('1.2.3', '9.8.7') // false
semver.lt('1.2.3', '9.8.7') // true
semver.minVersion('>=1.0.0') // '1.0.0'
semver.valid(semver.coerce('v2')) // '2.0.0'
semver.valid(semver.coerce('42.6.7.9.3-alpha')) // '42.6.7'
```

명령줄 유틸리티:

```
$ semver -h

A JavaScript implementation of the https://semver.org/ specification
Copyright Isaac Z. Schlueter

Usage: semver [options] <version> [<version> [...]]
Prints valid versions sorted by SemVer precedence

Options:
-r --range <range>
        Print versions that match the specified range.

-i --increment [<level>]
        Increment a version by the specified level.  Level can
        be one of: major, minor, patch, premajor, preminor,
        prepatch, or prerelease.  Default level is 'patch'.
        Only one version may be specified.

--preid <identifier>
        Identifier to be used to prefix premajor, preminor,
        prepatch or prerelease version increments.

-l --loose
        Interpret versions and ranges loosely

-p --include-prerelease
        Always include prerelease versions in range matching

-c --coerce
        Coerce a string into SemVer if possible
        (does not imply --loose)

Program exits successfully if any valid version satisfies
all supplied ranges, and prints all satisfying versions.

If no satisfying versions are found, then exits failure.

Versions are printed in ascending order, so supplying
multiple versions to the utility will just sort them.
```

## <a name="versions"></a>버전

“version”은 <https://semver.org/>에 있는 `v2.0.0` 사양에 의해 설명됩니다.

선행 `"="` 또는 `"v"` 문자가 제거되고 무시됩니다.

## <a name="ranges"></a>범위

`version range`는 범위를 충족하는 버전을 지정하는 `comparators`의 집합입니다.

`comparator`는 `operator` 및 `version`으로 구성됩니다.  기본 `operators` 집합은 다음과 같습니다.

* `<` 보다 작음
* `<=` 보다 작거나 같음
* `>` 보다 큼
* `>=` 보다 크거나 같음
* `=` 같음  연산자가 지정되지 않은 경우 같음이 가정되므로 이 연산자는 선택 사항이지만 포함할 수 있습니다.

예를 들어 `>=1.2.7` 비교기는 `1.2.7`, `1.2.8`, `2.5.3` 및 `1.3.9` 버전과 일치하지만 `1.2.6` 또는 `1.1.0` 버전과는 일치하지 않습니다.

비교기는 공백으로 조인하여 포함되는 모든 비교기의 **교집합** 에 의해 충족되는 공백을 `comparator set`을(를) 형성할 수 있습니다.

범위는 하나 이상의 비교기 집합으로 구성되며 `||`에 의해 조인됩니다.  버전에서 `||`(으)로 구분된 비교기 집합 중 하나 이상의 모든 비교기가 충족되는 경우에만 버전이 범위와 일치합니다.

예를 들어 `>=1.2.7 <1.3.0` 범위는 `1.2.7`, `1.2.8` 및 `1.2.99` 버전과 일치하지만 `1.2.6`, `1.3.0` 또는 `1.1.0` 버전과는 일치하지 않습니다.

`1.2.7 || >=1.2.9 <2.0.0` 범위는 `1.2.7`, `1.2.9` 및 `1.4.6` 버전과 일치하지만 `1.2.8` 또는 `2.0.0` 버전과는 일치하지 않습니다.

### <a name="prerelease-tags"></a>시험판 태그

버전에 시험판 태그(예: `1.2.3-alpha.3`)가 있는 경우 동일한 `[major, minor, patch]` 튜플을 가진 하나 이상의 비교기에 시험판 태그가 있는 경우에만 비교자 집합을 충족할 수 있습니다.

예를 들어 범위 `>1.2.3-alpha.3`는 `1.2.3-alpha.7` 버전과 일치하도록 허용되지만 SemVer 정렬 규칙에 따라 `3.4.5-alpha.9`가 기술적으로 `1.2.3-alpha.3`“보다 큰” 경우에도 `3.4.5-alpha.9`에서 충족되지 않습니다.  버전 범위는 `1.2.3` 버전에 대한 시험판 태그만 허용합니다.  `3.4.5` 버전은 범위를 충족합니다. 시험판 플래그가 없으며 `3.4.5`가 `1.2.3-alpha.7`보다 크기 때문입니다.

이 동작의 목적은 두 가지입니다.  첫째, 시험판 버전은 매우 빠르게 업데이트되는 경우가 많으며(작성자의 디자인에 의해) 아직 공개적인 사용에 적합하지 않은 많은 호환성이 손상되는 변경 내용을 포함합니다.
따라서 기본적으로 범위 일치 의미 체계에서 제외됩니다.

둘째, 시험판 버전을 사용하도록 옵트인한 사용자는 해당 특정 알파/베타/rc 버전 집합을 사용하려는 의도를 명확하게 표시했습니다.  범위에 시험판 태그가 포함되면 사용자에게 위험이 있음을 나타냅니다.  그러나 다음 시험판 버전 집합에서 유사한 위험을 감수하도록 선택했다고 가정하는 것은 여전히 적절하지 않습니다.

옵션 개체의 `includePrerelease` 플래그를 범위 일치를 수행하는 [함수](https://github.com/npm/node-semver#functions)로 설정하여 이 동작을 억제할 수 있습니다(범위 일치를 위해 모든 시험판 버전을 일반 버전인 것처럼 처리).

#### <a name="prerelease-identifiers"></a>시험판 식별자

`.inc` 메서드는 문자열 값을 시험판 식별자로 추가할 추가 `identifier` 문자열 인수를 사용합니다.

```javascript
semver.inc('1.2.3', 'prerelease', 'beta')
// '1.2.4-beta.0'
```

명령줄 예제:

```bash
$ semver 1.2.3 -i prerelease --preid beta
1.2.4-beta.0
```

그런 다음, 더 증가시키는 데 사용할 수 있습니다.

```bash
$ semver 1.2.4-beta.0 -i prerelease
1.2.4-beta.1
```

### <a name="advanced-range-syntax"></a>고급 범위 구문

결정적 방식으로 기본 비교기에 대한 고급 범위 구문 desugars입니다.

고급 범위는 공백 또는 `||`을 사용하는 기본 비교기와 동일한 방식으로 결합될 수 있습니다.

#### <a name="hyphen-ranges-xyz---abc"></a>하이픈 범위 `X.Y.Z - A.B.C`

포괄 집합을 지정합니다.

* `1.2.3 - 2.3.4` := `>=1.2.3 <=2.3.4`

부분 버전이 포괄 범위의 첫 번째 버전으로 제공되면 누락된 부분이 0으로 바뀝니다.

* `1.2 - 2.3.4` := `>=1.2.0 <=2.3.4`

부분 버전이 포괄 범위의 두 번째 버전으로 제공되는 경우 튜플의 제공된 부분으로 시작하는 모든 버전이 허용되지만 제공된 튜플 부분보다 큰 버전은 없습니다.

* `1.2.3 - 2.3` := `>=1.2.3 <2.4.0`
* `1.2.3 - 2` := `>=1.2.3 <3.0.0`

#### <a name="x-ranges-12x-1x-12-"></a>X-범위 `1.2.x` `1.X` `1.2.*` `*`

`X`, `x` 또는 `*`는 `[major, minor, patch]` 튜플의 숫자 값 중 하나에 대해 “대기”하는 데 사용할 수 있습니다.

* `*` := `>=0.0.0`(모든 버전이 충족됨)
* `1.x` := `>=1.0.0 <2.0.0`(주 버전 일치)
* `1.2.x` := `>=1.2.0 <1.3.0`(기본 버전과 부 버전 일치)

부분 버전 범위는 X 범위로 처리되므로 특수 문자는 실제로 선택 사항입니다.

* `""`(빈 문자열) := `*` := `>=0.0.0`
* `1` := `1.x.x` := `>=1.0.0 <2.0.0`
* `1.2` := `1.2.x` := `>=1.2.0 <1.3.0`

#### <a name="tilde-ranges-123-12-1"></a>타일 범위 `~1.2.3` `~1.2` `~1`

비교기에 부 버전이 지정된 경우 패치 수준 변경을 허용합니다.  그렇지 않은 경우 사소한 수준의 변경을 허용합니다.

* `~1.2.3` := `>=1.2.3 <1.(2+1).0` := `>=1.2.3 <1.3.0`
* `~1.2` := `>=1.2.0 <1.(2+1).0` := `>=1.2.0 <1.3.0`(`1.2.x`와 동일)
* `~1` := `>=1.0.0 <(1+1).0.0` := `>=1.0.0 <2.0.0`(`1.x`와 동일)
* `~0.2.3` := `>=0.2.3 <0.(2+1).0` := `>=0.2.3 <0.3.0`
* `~0.2` := `>=0.2.0 <0.(2+1).0` := `>=0.2.0 <0.3.0`(`0.2.x`와 동일)
* `~0` := `>=0.0.0 <(0+1).0.0` := `>=0.0.0 <1.0.0`(`0.x`와 동일)
* `~1.2.3-beta.2` := `>=1.2.3-beta.2 <1.3.0` `1.2.3` 버전에서 시험판 이 `beta.2`보다 크거나 같으면 허용됩니다.  따라서 다른 `[major, minor, patch]` 튜플의 시험판이기 때문에 `1.2.3-beta.4`는 허용되지만 `1.2.4-beta.2`는 허용되지 않습니다.

#### <a name="caret-ranges-123-025-004"></a>Caret 범위 `^1.2.3` `^0.2.5` `^0.0.4`

`[major, minor, patch]` 튜플에서 0이 아닌 왼쪽 숫자를 수정하지 않는 변경 내용을 허용합니다.  즉, `1.0.0` 버전 이상에 대한 패치 및 부 업데이트, `0.X >=0.1.0` 버전에 대한 패치 업데이트 및 `0.0.X` 버전에 대한 업데이트가 허용되지 않습니다.

많은 작성자는 `0.x` 버전이 `x`가 주요 “호환성이 손상되는 변경” 지표인 것처럼 취급합니다.

Caret 범위는 작성자가 `0.2.4` 및 `0.3.0` 릴리스 간에 호환성이 손상되는 변경을 할 수 있는 경우에 이상적입니다. 이는 일반적인 방법입니다.
그러나 `0.2.4` 및 `0.2.5` 사이에는 호환성이 손상되는 변경은 없을 것으로 가정합니다.  일반적으로 관찰된 사례에 따라 가산적(그러나 호환되지 않는 것)으로 추정되는 변경을 허용합니다.

* `^1.2.3` := `>=1.2.3 <2.0.0`
* `^0.2.3` := `>=0.2.3 <0.3.0`
* `^0.0.3` := `>=0.0.3 <0.0.4`
* `^1.2.3-beta.2` := `>=1.2.3-beta.2 <2.0.0` `1.2.3` 버전에서 시험판 이 `beta.2`보다 크거나 같으면 허용됩니다.  따라서 다른 `[major, minor, patch]` 튜플의 시험판이기 때문에 `1.2.3-beta.4`는 허용되지만 `1.2.4-beta.2`는 허용되지 않습니다.
* `^0.0.3-beta` := `>=0.0.3-beta <0.0.4` `0.0.3` 버전에서만 시험판이 `beta`보다 크거나 같으면 허용됩니다.  따라서, `0.0.3-pr.2`는 허용될 것입니다.

캐럿 범위를 구문 분석할 때 누락된 `patch` 값은 숫자 `0`으로 대체되지만 주 버전과 부 버전이 모두 `0`인 경우에도 해당 값 내에서 유연성을 허용합니다.

* `^1.2.x` := `>=1.2.0 <2.0.0`
* `^0.0.x` := `>=0.0.0 <0.1.0`
* `^0.0` := `>=0.0.0 <0.1.0`

누락된 `minor` 및 `patch` 값은 0으로 대체되지만 주 버전이 0인 경우에도 이러한 값 내에서 유연성을 허용합니다.

* `^1.x` := `>=1.0.0 <2.0.0`
* `^0.x` := `>=0.0.0 <1.0.0`

### <a name="range-grammar"></a>범위 문법

이 모든 것을 종합하면 파서 작성자의 이익을 위해 범위에 대한 Backus-Naur 문법이 있습니다.

```bnf
range-set  ::= range ( logical-or range ) *
logical-or ::= ( ' ' ) * '||' ( ' ' ) *
range      ::= hyphen | simple ( ' ' simple ) * | ''
hyphen     ::= partial ' - ' partial
simple     ::= primitive | partial | tilde | caret
primitive  ::= ( '<' | '>' | '>=' | '<=' | '=' ) partial
partial    ::= xr ( '.' xr ( '.' xr qualifier ? )? )?
xr         ::= 'x' | 'X' | '*' | nr
nr         ::= '0' | ['1'-'9'] ( ['0'-'9'] ) *
tilde      ::= '~' partial
caret      ::= '^' partial
qualifier  ::= ( '-' pre )? ( '+' build )?
pre        ::= parts
build      ::= parts
parts      ::= part ( '.' part ) *
part       ::= nr | [-0-9A-Za-z]+
```

## <a name="functions"></a>Functions

모든 메서드와 클래스는 최종 `options` 개체 인수를 사용합니다.  이 개체의 모든 옵션은 기본적으로 `false`입니다.  지원되는 컴퓨팅 옵션은 다음과 같습니다.

- `loose`  유효하지 않은 SemVer 문자열에 대해 더 관대해야 합니다.
  (물론, 결과 출력은 항상 100% 엄격하게 호환됨)  이전 버전과의 호환성 이유의 경우 `options` 인수가 개체가 아닌 부울 값이면 `loose` 매개 변수로 해석됩니다.
- `includePrerelease`  명시적으로 옵트인되지 않는 한 범위에서 시험판 태그가 지정된 버전을 제외하는 [기본 동작](https://github.com/npm/node-semver#prerelease-tags) 을 표시하지 않도록 설정합니다.

Strict 모드 비교기 및 범위는 구문 분석하는 SemVer 문자열에 대해 엄격합니다.

* `valid(v)`: 구문 분석된 버전을 반환하거나 유효하지 않은 경우 null을 반환합니다.
* `inc(v, release)`: 릴리스 유형(`major`, `premajor`, `minor`, `preminor`, `patch`, `prepatch` 또는 `prerelease`) 또는 null이 유효하지 않은 경우 증분된 버전을 반환합니다.
  * 한 번 호출 시 `premajor`는 버전이 다음 주 버전으로 올라가 해당 주 버전의 시험판으로 축소됩니다.
    `preminor` 및 `prepatch` 모두 동일한 방식으로 작동합니다.
  * 시험판이 아닌 버전에서 호출되는 경우 `prerelease`는 `prepatch`와 동일하게 작동합니다. 패치 버전을 증가한 다음 시험판을 만듭니다. 입력 버전이 이미 시험판인 경우 단순히 증분합니다.
* `prerelease(v)`: 시험판 구성 요소의 배열을 반환하고, 없는 경우 null을 반환합니다. 예: `prerelease('1.2.3-alpha.1') -> ['alpha', 1]`
* `major(v)`: 주 버전 번호를 반환합니다.
* `minor(v)`: 부 버전 번호를 반환합니다.
* `patch(v)`: 패치 버전 번호를 반환합니다.
* `intersects(r1, r2, loose)`: 제공된 두 범위 또는 비교기가 교차하는 경우 true를 반환합니다.
* `parse(v)`: 문자열을 의미 체계 버전으로 구문 분석하여 `SemVer` 개체 또는 `null`을 반환합니다.

### <a name="comparison"></a>비교

* `gt(v1, v2)`: `v1 > v2`
* `gte(v1, v2)`: `v1 >= v2`
* `lt(v1, v2)`: `v1 < v2`
* `lte(v1, v2)`: `v1 <= v2`
* `eq(v1, v2)`: `v1 == v2` 정확히 동일한 문자열이 아니더라도 논리적으로 동일한 경우 true입니다.  문자열을 비교하는 방법을 이미 알고 있습니다.
* `neq(v1, v2)`: `v1 != v2` `eq`의 반대입니다.
* `cmp(v1, comparator, v2)`: 비교 문자열을 전달하면 위의 해당 함수를 호출합니다.  `"==="` 및 `"!=="`는 문자열 비교를 수행하지만 완전성을 위해 포함됩니다.  잘못된 비교 문자열이 제공되면 throw됩니다.
* `compare(v1, v2)`: `v1 == v2`인 경우 `0`을 반환하고, `v1`보다 크면 `1`를 반환하고, `v2`보다 크면 `-1`을 반환합니다.  `Array.sort()`에 전달되는 경우 오름차순으로 정렬합니다.
* `rcompare(v1, v2)`: 비교의 반대입니다.  `Array.sort()`에 전달될 때 버전 배열을 내림차순으로 정렬합니다.
* `diff(v1, v2)`: 버전이 같으면 릴리스 유형(`major`, `premajor`, `minor`, `preminor`, `patch`, `prepatch` 또는 `prerelease`) 또는 null에 따라 두 버전 간의 차이를 반환합니다.

### <a name="comparators"></a>비교기

* `intersects(comparator)`: 비교기가 교차하는 경우 true를 반환합니다.

### <a name="ranges"></a>범위

* `validRange(range)`: 유효하지 않은 경우 유효한 범위 또는 null을 반환합니다.
* `satisfies(version, range)`: 버전이 범위를 충족하는 경우 true를 반환합니다.
* `maxSatisfying(versions, range)`: 범위를 충족하는 목록에서 가장 높은 버전을 반환하거나 해당 버전이 없는 경우`null`을 반환합니다.
* `minSatisfying(versions, range)`: 범위를 충족하는 목록에서 가장 높은 버전을 반환하거나 해당 버전이 없는 경우 `null`을 반환합니다.
* `minVersion(range)`: 지정된 범위와 일치시킬 수 있는 가장 낮은 버전을 반환합니다.
* `gtr(version, range)`: 버전이 범위에서 가능한 모든 버전보다 큰 경우 `true`를 반환합니다.
* `ltr(version, range)`: 버전이 범위에서 가능한 모든 버전보다 작은 경우 `true`를 반환합니다.
* `outside(version, range, hilo)`: 버전이 높거나 낮은 방향으로 범위 범위를 벗어나면 true를 반환합니다.  `hilo` 인수는 `'>'` 또는 `'<'` 문자열이어야 합니다.  (이 함수는 `gtr` 및 `ltr`에서 호출됨)
* `intersects(range)`: 범위 비교기가 교차하는 경우 true를 반환합니다.

범위가 연속되지 않을 수 있으므로 버전이 범위보다 크거나 범위보다 작거나 또는 범위를 충족하지 않을 수 있습니다.  예를 들어 `1.2 <1.2.9 || >2.0.0` 범위에는 `1.2.9`에서 `2.0.0`까지 구멍이 있으므로 `1.2.10` 버전이 범위보다 크지 않고(`2.0.1`이 만족도가 높기 때문에), 범위보다 작으며(`1.2.8`이 만족도가 낮기 때문에) 범위도 충족하지 않습니다.

버전이 범위를 충족하는지 또는 충족하지 않는지 알고 싶다면 `satisfies(version, range)` 함수를 사용합니다.

### <a name="coercion"></a>강제 변환

* `coerce(version)`: 가능하면 문자열을 SemVer로 강제 변환합니다.

이것은 SemVer가 아닌 문자열을 SemVer로 매우 허용하는 번역을 제공하는 것을 목표로 합니다. 문자열의 첫 번째 숫자를 찾고, 허용되는 최대 길이(256자)까지 최소 부분 SemVer(예: `1`, `1.2`, `1.2.3`)를 만족하는 나머지 모든 문자를 사용합니다.  더 긴 버전은 단순히 잘립니다(`4.6.3.9.2-alpha2`가 `4.6.3`으로).  주변의 모든 텍스트는 무시됩니다(`v3.4 replaces v3.3.1`이 `3.4.0`으로).  숫자가 없는 텍스트만 강제 변환에 실패합니다(`version one`은 유효하지 않음).  강제 변환으로 간주되는 모든 SemVer 구성 요소의 최대 길이는 16자입니다. 더 긴 구성 요소는 무시됩니다(`10000000000000000.4.7.4`가 `4.7.4`로).  모든 SemVer 구성 요소의 최댓값은 `Number.MAX_SAFE_INTEGER || (2**53 - 1)`입니다. 값이 높은 구성 요소는 유효하지 않습니다(`9999999999999999.4.7.4`는 유효하지 않을 수 있음).
