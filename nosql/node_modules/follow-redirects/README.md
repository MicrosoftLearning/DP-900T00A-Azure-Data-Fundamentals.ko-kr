---
ms.openlocfilehash: aa7ddb2f2ce7709064cf5157f709fc1eff52cff7
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 02/05/2022
ms.locfileid: "138052594"
---
## <a name="follow-redirects"></a>리디렉션 추적

리디렉션을 자동으로 따르는 노드의 `http` 및 `https` 모듈에 대한 드롭인 대체입니다.

[![npm 버전](https://img.shields.io/npm/v/follow-redirects.svg)](https://www.npmjs.com/package/follow-redirects)
[![빌드 상태](https://github.com/follow-redirects/follow-redirects/workflows/CI/badge.svg)](https://github.com/follow-redirects/follow-redirects/actions)
[![적용 상태](https://coveralls.io/repos/follow-redirects/follow-redirects/badge.svg?branch=master)](https://coveralls.io/r/follow-redirects/follow-redirects?branch=master)
[![npm 다운로드](https://img.shields.io/npm/dm/follow-redirects.svg)](https://www.npmjs.com/package/follow-redirects)
[![GitHub의 스폰서](https://img.shields.io/static/v1?label=Sponsor&message=%F0%9F%92%96&logo=GitHub)](https://github.com/sponsors/RubenVerborgh)

`follow-redirects`는 네이티브 [http](https://nodejs.org/api/http.html#http_http_request_options_callback) 및 [https](https://nodejs.org/api/https.html#https_https_request_options_callback) 모듈에 있는 것과 동일하게 동작하는 [request](https://nodejs.org/api/http.html#http_http_request_options_callback) 및 [get](https://nodejs.org/api/http.html#http_http_get_options_callback) 메서드를 제공하며, 리디렉션을 원활하게 따릅니다.

```javascript
const { http, https } = require('follow-redirects');

http.get('http://bit.ly/900913', response => {
  response.on('data', chunk => {
    console.log(chunk);
  });
}).on('error', err => {
  console.error(err);
});
```

`response`의 `responseUrl` 속성을 통해 최종 리디렉션된 URL을 검사할 수 있습니다.
리디렉션이 발생하지 않은 경우 `responseUrl`은 원래 요청 URL입니다.

```javascript
const request = https.request({
  host: 'bitly.com',
  path: '/UHfDGO',
}, response => {
  console.log(response.responseUrl);
  // 'http://duckduckgo.com/robots.txt'
});
request.end();
```

## <a name="options"></a>옵션
### <a name="global-options"></a>글로벌 옵션
전역 옵션은 `follow-redirects` 모듈에서 직접 설정됩니다.

```javascript
const followRedirects = require('follow-redirects');
followRedirects.maxRedirects = 10;
followRedirects.maxBodyLength = 20 * 1024 * 1024; // 20 MB
```

다음과 같은 전역 옵션이 지원됩니다.

- `maxRedirects`(기본값: `21`) – 허용되는 리디렉션의 최대 수를 설정합니다. 초과하면 오류가 발생합니다.

- `maxBodyLength`(기본값: 10MB) – 요청 본문의 최대 크기를 설정합니다. 초과하면 오류가 발생합니다.

### <a name="per-request-options"></a>요청당 옵션
요청당 옵션은 `options` 개체를 전달하여 설정됩니다.

```javascript
const url = require('url');
const { http, https } = require('follow-redirects');

const options = url.parse('http://bit.ly/900913');
options.maxRedirects = 10;
options.beforeRedirect = (options, { headers }) => {
  // Use this to adjust the request options upon redirecting,
  // to inspect the latest response headers,
  // or to cancel the request by throwing an error
  if (options.hostname === "example.com") {
    options.auth = "user:password";
  }
};
http.request(options);
```

[표준 HTTP](https://nodejs.org/api/http.html#http_http_request_options_callback) 및 [HTTPS 옵션](https://nodejs.org/api/https.html#https_https_request_options_callback) 외에도 다음과 같은 요청당 옵션이 지원됩니다.
- `followRedirects`(기본값: `true`) – 리디렉션을 따라야 하는지 여부입니다.

- `maxRedirects`(기본값: `21`) – 허용되는 리디렉션의 최대 수를 설정합니다. 초과하면 오류가 발생합니다.

- `maxBodyLength`(기본값: 10MB) – 요청 본문의 최대 크기를 설정합니다. 초과하면 오류가 발생합니다.

- `beforeRedirect`(기본값: `undefined`) – 필요에 따라 리디렉션에서 요청 `options`를 변경하거나 오류를 throw하여 요청을 중단합니다.

- `agents`(기본값: `undefined`) – HTTP 및 HTTPS는 서로 다른 에이전트를 사용하므로 프로토콜당 `agent` 옵션을 설정합니다. 예제 값: `{ http: new http.Agent(), https: new https.Agent() }`

- `trackRedirects`(기본값: `false`) – 리디렉션된 응답 세부 정보를 응답 개체의 `redirects` 배열에 저장할지 여부입니다.


### <a name="advanced-usage"></a>고급 사용
기본적으로 `follow-redirects`는 [`http`](https://nodejs.org/api/http.html) 및 [`https`](https://nodejs.org/api/https.html)의 Node.js 기본 구현을 사용합니다.
캐싱 및/또는 중간 요청 추적과 같은 기능을 사용하도록 설정하려면 대신 사용자 지정 프로토콜 구현 주위에 `follow-redirects`를 래핑하는 것이 좋습니다.

```javascript
const { http, https } = require('follow-redirects').wrap({
  http: require('your-custom-http'),
  https: require('your-custom-https'),
});
```

이러한 사용자 지정 프로토콜은 `request` 메서드의 구현만 필요합니다.

## <a name="browser-usage"></a>브라우저 사용

브라우저 작동 방식으로 인해 `http` 및 `https` 브라우저에 해당하는 브라우저는 기본적으로 리디렉션을 수행합니다.

다음과 같은 방식으로 `follow-redirects`를 요구합니다.
```javascript
const http = require('follow-redirects/http');
const https = require('follow-redirects/https');
```
웹팩과 친구들에게 `follow-redirect`를 기본 제공 버전으로 바꾸도록 쉽게 알릴 수 있습니다.

```json
{
  "follow-redirects/http"  : "http",
  "follow-redirects/https" : "https"
}
```

## <a name="contributing"></a>참여

끌어오기 요청은 항상 환영합니다. 귀중한 시간을 투자하기 전에 제안을 자세히 설명하는 [문제를 제출](https://github.com/follow-redirects/follow-redirects/issues)하세요. 추가 기능 및 버그 수정에는 테스트가 동반되어야 합니다. 간단한 `npm test` 명령을 사용하여 테스트 도구 모음을 로컬로 실행할 수 있습니다.

## <a name="debug-logging"></a>디버그 로깅

`follow-redirects`는 로깅에 뛰어난 [디버그](https://www.npmjs.com/package/debug)를 사용합니다. 로깅을 켜려면 이 모듈에서만 디버그 출력에 대한 환경 변수 `DEBUG=follow-redirects`를 설정합니다. 테스트 도구 모음을 실행할 때 기본 서버의 출력도 확인하도록 `DEBUG=*`를 설정하는 것이 유리할 수 있습니다.

## <a name="authors"></a>작성자

- [Ruben Verborgh](https://ruben.verborgh.org/)
- [Olivier Lalonde](mailto:olalonde@gmail.com)
- [James Talmage](mailto:james@talmage.io)

## <a name="license"></a>License

[MIT 라이선스](https://github.com/follow-redirects/follow-redirects/blob/master/LICENSE)
