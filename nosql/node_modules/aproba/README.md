---
ms.openlocfilehash: b8e00448fe7f8445c8e81302b03a852ee0f7e5cc
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 02/05/2022
ms.locfileid: "138052690"
---
<a name="aproba"></a>aproba
======

엄청나게 가벼운 함수 인수 유효성 검사기

```
var validate = require("aproba")

function myfunc(a, b, c) {
  // `a` must be a string, `b` a number, `c` a function
  validate('SNF', arguments) // [a,b,c] is also valid
}

myfunc('test', 23, function () {}) // ok
myfunc(123, 23, function () {}) // type error
myfunc('test', 23) // missing arg error
myfunc('test', 23, function () {}, true) // too many args error

```

유효한 유형은 다음과 같습니다.

| type | description
| :--: | :----------
| *    | 모든 형식과 일치
| A    | `Array.isArray` 또는 `arguments` 개체
| S    | typeof == 문자열
| N    | typeof == 숫자
| F    | typeof == 함수
| O    | typeof == A 형식이 아니고 E 형식이 아닌 개체
| b    | typeof == 부울
| E    | `instanceof Error` 또는 `null` **(특별: 아래 참조)**
| Z    | == `null`

유효성 검사 실패는 `EMISSINGARG`, `EINVALIDTYPE` 또는 `ETOOMANYARGS`의 `code` 속성으로 구분되는 세 가지 예외 유형 중 하나를 throw합니다.

유효하지 않은 형식을 전달하면 코드 `EUNKNOWNTYPE`과 함께 throw됩니다.

**오류** 인수가 발견되고 null이 아닌 경우 나머지 인수는 선택 사항입니다.  즉, `ESO`라고 말하면 `E|ESO|ZSO`에서 마법이 아닌 `E`를 사용하는 것과 같습니다.

### <a name="but-i-have-optional-arguments"></a>하지만 선택의 여지가 있다고요?!

파이프 `|`로 구분하여 둘 이상의 서명을 제공할 수 있습니다.
서명이 인수와 일치하는 경우 유효한 것으로 간주됩니다.

예를 들어 `fs.createWriteStream`에 대한 서명을 작성하려고 한다고 가정해 봅시다.  이에 대한 문서는 다음과 같이 설명합니다.

```
fs.createWriteStream(path[, options])
```

이는 `SO|S`의 서명이 됩니다.  즉, 문자열과 개체 또는 문자열입니다.

이제 전체 `fs` 문서를 읽는 경우 실제로 경로도 버퍼가 될 수 있음을 알 수 있습니다.  옵션은 문자열이 될 수 있습니다. 즉, 다음과 같습니다.
```
path <String> | <Buffer>
options <String> | <Object>
```

이를 재현하려면 가능한 모든 조합을 완전히 열거해야 하며 이는 `SO|SS|OO|OS|S|O`의 서명을 의미합니다.  어색함이 특징입니다. 이런 종류의 작업을 수행할 때 API에 추가하는 복잡성을 상기시켜줍니다.


### <a name="browser-support"></a>브라우저 지원

이는 종속성이 없으며 브라우저에서 작동해야 하지만 스택 추적이 더 시끄럽습니다.

### <a name="why-this-exists"></a>이것이 존재하는 이유

저는 아주 간단한 인수 유효성 검사기를 원했습니다. 다음 두 가지 작업이 필요했습니다.

1. 어설션보다 더 간결하고 사용하기 쉽습니다.

2. DSL의 무한 자전거 보관소를 권장하지 않습니다.

이는 형식이 단일 문자로 지정되고 선택적 인수와 같은 항목이 없는 이유입니다. 

이는 사용자 데이터의 유효성을 검사하기 위한 것이 아닙니다. 이는 특히 함수의 인터페이스를 어설션하는 것에 관한 것입니다.

더 큰 유효성 검사가 필요한 경우 직접 작성하거나 다른 곳에서 살펴보는 것이 좋습니다.

